<!DOCTYPE html>
<html>
<head>
    <title>Simple API Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .response { background: #f5f5f5; padding: 15px; border-radius: 5px; margin: 15px 0; }
        .success { border-left: 5px solid #28a745; }
        .error { border-left: 5px solid #dc3545; }
        button { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>
    <h1>🧪 Quick API Test</h1>
    <p>Testing the <code>get_rbh_agent_list_dropdowns.php</code> API endpoint.</p>
    
    <button onclick="testAPI()">Test Dropdown API</button>
    
    <div id="result" class="response" style="display: none;">
        <h3>API Response:</h3>
        <pre id="responseText"></pre>
    </div>

    <script>
        async function testAPI() {
            const resultDiv = document.getElementById('result');
            const responseText = document.getElementById('responseText');
            
            resultDiv.style.display = 'block';
            responseText.textContent = 'Loading...';
            
            try {
                const response = await fetch('https://emp.kfinone.com/mobile/api/get_rbh_agent_list_dropdowns.php');
                const data = await response.json();
                
                responseText.textContent = JSON.stringify(data, null, 2);
                
                if (data.status === 'success') {
                    resultDiv.className = 'response success';
                    console.log('✅ API Success:', data);
                } else {
                    resultDiv.className = 'response error';
                    console.log('❌ API Error:', data);
                }
                
            } catch (error) {
                responseText.textContent = `Error: ${error.message}`;
                resultDiv.className = 'response error';
                console.log('❌ Network Error:', error);
            }
        }
        
        // Auto-test on page load
        window.addEventListener('load', () => {
            setTimeout(testAPI, 1000);
        });
    </script>
</body>
</html>
